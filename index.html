<html>
  <head>
    <title>Dyno Jet</title>
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
 
  
  
  <script>
window.onload = function () {

var rpm,hp=0,tw,t,v,php=0,prpm=0;
var e1={0 : 116, 1 : 119, 2 : 123, 3 : 130 , 4 : 136 , 5 : 142 , 6 : 147 , 7 : 153 , 8 : 160 , 9 : 164 , 10 : 170 , 11 : 173 , 12 : 177 , 13 : 181 , 14 : 188 , 15 : 180 , 16 : 171 , 17 : 153 , 18 : 133 , 19 : 122};    //Engine torque at specific  Engine rpm 
	 
	 
	 var GearRatio={1:2.18, 2:1.19,3:3.298};                        // Transmission Gear ratio
	 var DiffRatio={1:3.960, 2:2.462,3:4.029};                     // Differential Gear ratio
	 var Tyre={1:0.3302, 2:0.3683, 3:0.4064, 4:0.4445};

 
var dataPoints1 = [];
var dataPoints2 = [];

var chart = new CanvasJS.Chart("chartContainer", {
	zoomEnabled: true,
	title: {
		text: "HorsePower & Torque"
	},
	axisX: {
		title: "RPM"
	},
	axisY:{
		prefix: "HP ",
		includeZero: false
	}, 
	toolTip: {
		shared: true
	},
	legend: {
		cursor:"pointer",
		verticalAlign: "top",
		fontSize: 22,
		fontColor: "dimGrey",
		itemclick : toggleDataSeries
	},
	data: [{ 
		type: "line",
		xValueType: "Number",
		yValueFormatString: "####.0 HP",
		xValueFormatString: "#### RPM",
		showInLegend: true,
		name: "HorsePower",
		dataPoints: dataPoints1
		},
		{				
			type: "line",
			xValueType: "Number",
			yValueFormatString: "####.0 Nm",
			showInLegend: true,
			name: "Torque" ,
			dataPoints: dataPoints2
	}]
});

function toggleDataSeries(e) {
	if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
		e.dataSeries.visible = false;
	}
	else {
		e.dataSeries.visible = true;
	}
	chart.render();
}



function updateChart(r,h,t) {
	 var rpm,hp,tw;
	  rpm=r*10000;
	  hp=h;
	  tw=t;
	  

	// adding random value and rounding it to two digits. 
	yValue1 = hp;
	yValue2 = tw;

	// pushing the new values
	dataPoints1.push({
		x: rpm,
		y: yValue1
	});
	dataPoints2.push({
		x: rpm,
		y: yValue2
	});
	

	// updating legend text with  updated with y Value 
	chart.options.data[0].legendText = "HP " + yValue1;
	chart.options.data[1].legendText = "Torque " + yValue2 + " Nm"; 
	chart.render();
}







// generates first set of dataPoints 
//updateChart(.02,12,10);	

function dyno(){
rpm+=0.05;
if(rpm>0.96){
tw=((e1[19]*GearRatio[3]*DiffRatio[3])/2);
		hp=((tw*(1*10000))/5252);
		if(hp>php){
			php=hp;
			prpm=rpm*10000;
		}
		
		
		updateChart(1,hp,tw);	
		drawSpeedo(180,5,1, 240);
window.clearInterval(t);


}
else{
tw=parseFloat((e1[v]*GearRatio[3]*DiffRatio[3])/2);
v++;
		
		hp=((tw*(rpm*10000))/5252);
		if(hp>php){
			php=hp;
			prpm=rpm*10000;
		}
		
		updateChart(rpm,hp,tw);	
		drawSpeedo(180,5,rpm, 240);
}

}



function running(){
       rpm=0;
	   v=0;
 t=setInterval(dyno,150);
if(rpm>1){
window.clearInterval(t);
}
}



document.getElementById("run").onclick = function() {running()};
}
		
	



var s=0;





</script>
  
  
  
  
  
  
  
  
  
  
  
  
  
   <style>

.bg {
   
    background-image: url("https://us.123rf.com/450wm/yamabikay/yamabikay1706/yamabikay170600003/79675824-luxury-black-leather-texture-seamless-square-background-tile-ready-high-resolution-photo-.jpg?ver=6");
    
}

.logo img{
            width:170px;
            height:75px;
            float:left;
            margin-left: 20px;
			margin-top:0px;
			padding:0px;
        }
		
		
.text{
       color:white;
	   padding-top:10px;
	   font-size:44px;
}

.btn-lg{

margin: 8px;
color:black;
}	

td{
margin:5px;

}	

</style>
  </head>
  <body class="bg">
	<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#" >  <div class="logo"><img src="https://www.american-motors-online.com/WebRoot/Store2/Shops/61864817/517E/D403/8D8D/963B/C390/C0A8/28B8/CDAF/dyno_jet_logo_m.gif"></div> 
</a>
    </div>
    
	<ul class="nav navbar-nav navbar-right">
      <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
      <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
    </ul>
	
	<ul class="nav navbar-nav navbar-right">
      <li class="active"><a href="#">Home</a></li>
      <li><a href="#">Page 1</a></li>
      
    </ul>
    
  </div>
</nav>

<div class="col-xs-1 col-md-1 col-lg-1 col-sm-1"></div>
<div class="col-xs-10 col-md-10 col-sm-10 col-lg-10">
<center><iframe width="75%" height="75%" src="https://www.youtube.com/embed/WxFG06zUUrM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

		<form name="f"><h1 class ="text">Choose your Car Specifications</h1>
			<center>
			    
					<a href="numbers.html" class="btn btn-danger btn-lg">
						<span class="glyphicon glyphicon-road"></span> Chassis
						</a>
					</td>
					<a  class="btn btn-danger btn-lg" onclick="dyno()">
						<span class="glyphicon glyphicon-gift"></span> Engine
						</a></td>
					<a href="numbers.html" class="btn btn-danger btn-lg">
						<span class="glyphicon glyphicon-cog"></span> Transmission
						</a></td></td>
					<a href="numbers.html" class="btn btn-danger btn-lg">
						<span class="glyphicon glyphicon-cd"></span> Tyres
						</a></td></td></td><br>
						
						
						

				
			
			</center>
		</form>
			
			
		<div id="chartContainer" style="height: 370px; max-width: 920px; margin: 10px;"></div>
		
		<input type="button"  id="run" class="btn btn-warning btn-lg"  value="Run">
		<center><canvas id="canvas"></canvas></center>


<script src="JavaScript.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>	


</center>

</div>
<div class="col-xs-1 col-md-1 col-sm-1 col-lg-1"></div>







  </body>
